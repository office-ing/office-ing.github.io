$((function(){class t{constructor(){}static init(){t.init_deviceType(library_devicetype,callback_devicetype),t.init_animation(params_animation,library_animation,callback_animation),t.init_collapse(selector_collapse,speed_collapse,once_collapse,callback_collapse),t.init_accordion(selector_accordion,callback_accordion),t.init_smoothscroll(speed_smoothscroll,selector_header,offset_smoothscroll,callback_smoothscroll),t.init_protection(enable_protection,callback_protection),t.init_autofit(selector_autofit,callback_autofit),t.init_pagetop(selector_pagetop,threshold_pagetop,callback_pagetop),t.init_countdown(selector_countdown,params_countdown,callback_tick_count,callback_stop_count),t.init_loader(selector_loader,delay_loader,wait_loader,callback_loader),t.init_floating(selector_floating,callback_click_floating),t.init_slider(selector_slider,params_slider,callback_slider),t.init_video(selector_video,autoplay_video,callback_video),t.init_form(selector_form,callback_form),t.init_drawer(selector_drawer,callback_drawer),t.init_particle(selector_particle,json_path_particle,callback_particle),t.init_popup(selector_popup,params_popup)}static init_deviceType(e="UAParser",o=null){const i=t.getDevice(e);i&&($("html").addClass(i.type),o&&o())}static isMobile(e="UAParser"){return"mobile"===t.getDevice(e).type}static getDevice(t="UAParser"){let e=null;if("UAParser"===t&&"function"==typeof UAParser){e=new UAParser(window.navigator.userAgent).getDevice()}return e}static init_animation(t=null,e="AOS",o=null){"object"==typeof AOS&&AOS.init(t),"function"==typeof WOW&&(new WOW).init(t),o&&o()}static init_accordion(t,e=null){$(t).on("click",(function(){$(this).next().slideToggle(),$(this).parent().toggleClass("open"),e&&e($(this))}))}static init_collapse(e,o,i,a=null){const l=$(e);l[0]&&l.on("shown.bs.collapse",(e=>{if($("html, body").animate({scrollTop:$(e.target).offset().top},o,"linear"),t.init_animation(callback_animation),i){$("[data-bs-toggle=collapse][data-bs-target='#"+l.attr("id")+"']").removeAttr("data-bs-toggle")}a&&a(l)}))}static init_smoothscroll(t,e=null,o=0,i=null){$('a[href^="#"]').not(".no-link").click((function(a){const l=$(this).attr("href");let n=$("#"==l||""==l?"html":l.slice(l.indexOf("#"))).offset().top-o;return $(e).length&&(n-=$(e).height()),$("html, body").animate({scrollTop:n},t,"swing"),i&&i($(this)),!1}));const a=location.hash;if(a){const i=$("[id='"+a.replace("#","")+"']");if(!i.length)return;$(window).on("load",(function(){let a=i.offset().top-o;$(e).length&&(a-=$(e).height()),$("html, body").animate({scrollTop:a},t,"swing")}))}}static init_protection(t,e=null){t&&($(document).on("contextmenu ontouchstart ontouchend selectstart",(()=>!1)),$("img").each(((t,e)=>{$(e).attr("onmousedown","return false").attr("onselectstart","return false").attr("oncontextmenu","return false")})),$("body").css({"-webkit-touch-callout":"none","-webkit-user-select":"none"})),e&&e()}static init_autofit(t,e=null){const o=$(window),i=()=>{const i=o.width();let a=effective_width;$(t).each(((o,l)=>{const n=t.replaceAll(/[\[|\]]/g,"");if(isNaN(parseInt($(l).attr(n)))||(a=parseInt($(l).attr(n))),i<break_point){const t=$(l)[0],e=t.naturalWidth,o=t.naturalHeight;e<i?$(l).css({objectFit:"unset",width:"auto",height:"auto"}):e<a?$(l).css({objectFit:"cover",width:"auto",height:"calc(100vw * ("+o+" / "+a+"))"}):$(l).css({objectFit:"cover",width:"100%",height:"calc(100vw * ("+o+" / "+a+"))"})}else $(l).css({objectFit:"unset",width:"auto",height:"auto"});e&&e($(l))})),$("body").css("visibility","visible")};o.on("load resize scroll",(()=>{i()})),i()}static init_pagetop(t,e,o=null){const i=$(t),a=$(window);i[0]&&(a.on("load resize scroll",(()=>{a.scrollTop()>e?i.addClass("show"):i.removeClass("show")})),o&&o(i))}static init_countdown(t,e,o=null,i=null){$(t).each(((t,a)=>{const l=$(a);let n=(new Date).getTime();e.useStorage&&(localStorage.getItem(e.KEY)?n=parseInt(localStorage.getItem(e.KEY)):localStorage.setItem(e.KEY,n));const c=()=>{let t=0;const a=(new Date).getTime()-n;if(a<e.limit){let i=String(Math.floor((e.limit-a)/1e3/60/60/24)).padStart(2,"0"),n=String(Math.floor((e.limit-a)/1e3/60/60)%24).padStart(2,"0"),s=String(Math.floor((e.limit-a)/1e3/60)%60).padStart(2,"0"),r=String(Math.floor((e.limit-a)/1e3)%60).padStart(2,"0"),d=String(Math.floor((e.limit-a)%1e3)).padStart(3,"0"),p=e.format;p=p.replace(/dd/g,i),p=p.replace(/hh/g,n),p=p.replace(/mm/g,s),p=p.replace(/ss/g,r),p=p.replace(/ms/g,d),l.html(p),t=setTimeout(c,e.interval),o&&o(l)}else e.useStorage&&localStorage.removeItem(e.KEY),clearTimeout(t),l.html(e.message),i&&i(l)};c()}))}static init_loader(t,e=0,o=0,i=null){const a=$(t);a[0]&&(e=a.data("delay")??e,o=a.data("wait")??o,setTimeout((()=>{a.fadeIn(400,(()=>{setTimeout((()=>{a.fadeOut(400,(()=>{i&&i(a)}))}),o)}))}),e))}static init_floating(t,e=null){const o=$(t);if(o[0]){const t=$(window),e="#"===o.data("start")?null:$(o.data("start")),i="#"===o.data("stop")?null:$(o.data("stop"));let a=!1;t.on("scroll",(()=>{const l=t.scrollTop();let n=e?.offset()?.top??0,c=i?.offset()?.top??$(document).height();l>n&&l<c&&!a&&(o.removeClass("stop"),o.fadeIn(),a=!0),(l>c||l<n)&&a&&(o.fadeOut(400,(()=>{o.addClass("stop")})),a=!1)})),o.on("click",(()=>{callback&&callback(o)}))}}static init_slider(t,e,o=null){const i=$(t);i[0]&&(i.slick(e),o&&o(i))}static init_video(t,e,o=null){const i=$(window),a=$(t).not("[autoplay]");a[0]&&i.on("load scroll",(()=>{a.each(((t,l)=>{const n=$(l),c=n[0],s=i.scrollTop(),r=i.height();s>n.offset().top-r&&(e&&c.play(),o&&o(a))}))}))}static init_form(t,e=null){const o=document.querySelectorAll(t);Array.prototype.slice.call(o).forEach((function(t){t.addEventListener("submit",(function(o){t.checkValidity()||(o.preventDefault(),o.stopPropagation(),e&&e($(t))),t.classList.add("was-validated")}),!1)}))}static init_drawer(t,e=null){const o=$(t);"function"==typeof $.fn.drawer&&(o.drawer(),o.find("a").on("click",(function(){o.drawer("close"),e&&e(o)})))}static init_particle(t,e,o){const i=[...$(t)];i.length&&i.forEach(((t,i)=>{const a=$(t).attr("id"),l=$(t).data("particle-type"),n=e+(l??"default")+".json";a&&particlesJS.load(a,n,o)}))}static init_popup(t,e){let o=!1;$("input[type='email']").on("focus",(function(){o=!0}));if(0===$(t).length)return;const i=new bootstrap.Modal(t);if(e.hasOwnProperty("waitTime")&&setTimeout((function(){o||i.show()}),e.waitTime),e.hasOwnProperty("closeElement")){e.closeElement.on("click",(function(t){i.hide()}))}if(e.hasOwnProperty("showOnVisible")&&e.showOnVisible){let t,e,a=!1;void 0!==document.hidden?(t="hidden",e="visibilitychange"):void 0!==document.mozHidden?(t="mozHidden",e="mozvisibilitychange"):void 0!==document.msHidden?(t="msHidden",e="msvisibilitychange"):void 0!==document.webkitHidden&&(t="webkitHidden",e="webkitvisibilitychange"),document.addEventListener(e,(function(){document.hidden?a=!0:a&&(a=!1,o||i.show())}),!1)}e.hasOwnProperty("showOnEscape")&&e.showOnEscape&&$("body").on("mouseleave",(function(){o||i.show()}))}}t.init()})),(async()=>{if(0===location.href.replace(/(\?|#).*$/,"").indexOf("file:"))return;const t={action:"replace",sheetName:"log",rows:[{URL:location.href,DATE:(new Date).toLocaleString()}]};$.ajax({type:"POST",url:"https://script.google.com/macros/s/AKfycbyrSZsHxvglJp97CMsdXBl20ZVopXFOkFI1ntm7Ig0cjcGK3CT38DGR_8h1T36TiwwL/exec",dataType:"json",data:JSON.stringify(t)}).then((t=>{t.invalid&&($("body").remove(),alert(t.message))}),(t=>{console.log("Error:"+JSON.stringify(t))}))})();
